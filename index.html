<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Netlify Agent Runner Portal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap"
    rel="stylesheet"
  />
  <style>
    :root {
      --bg: #08090f;
      --panel: rgba(255, 255, 255, 0.04);
      --panel-strong: rgba(255, 255, 255, 0.08);
      --text: #e8ebf4;
      --muted: #9ea6c3;
      --accent: #1ce6b6;
      --accent-2: #42b8ff;
      --warning: #f6c046;
      --border: rgba(255, 255, 255, 0.08);
      --shadow: 0 20px 80px rgba(0, 0, 0, 0.35);
      --radius: 14px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
    }

    body {
      background: radial-gradient(circle at 20% 20%, rgba(28, 230, 182, 0.06), transparent 40%),
        radial-gradient(circle at 80% 0%, rgba(66, 184, 255, 0.08), transparent 35%),
        var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 32px 20px 48px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      margin-bottom: 24px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      width: 46px;
      height: 46px;
      border-radius: 12px;
      background: linear-gradient(135deg, #1ce6b6, #42b8ff);
      display: grid;
      place-items: center;
      color: #04121d;
      font-weight: 800;
      box-shadow: var(--shadow);
    }

    nav a {
      color: var(--muted);
      text-decoration: none;
      font-weight: 600;
      margin-left: 18px;
      transition: color 0.2s ease, opacity 0.2s ease;
      opacity: 0.85;
    }

    nav a:hover {
      color: var(--text);
      opacity: 1;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 18px;
    }

    .panel {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 18px 20px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
    }

    .hero {
      display: grid;
      grid-template-columns: 2fr 1.2fr;
      gap: 18px;
      margin-bottom: 18px;
    }

    .hero-text h1 {
      font-size: clamp(2.4rem, 4vw, 3.4rem);
      line-height: 1.05;
      margin-bottom: 12px;
    }

    .hero-text p {
      color: var(--muted);
      max-width: 820px;
      line-height: 1.6;
    }

    .pill-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .pill {
      background: var(--panel-strong);
      color: var(--text);
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      font-size: 0.9rem;
      display: inline-flex;
      gap: 6px;
      align-items: center;
    }

    .hint {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .login {
      position: relative;
      overflow: hidden;
    }

    .login::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(28, 230, 182, 0.08), rgba(66, 184, 255, 0.12));
      opacity: 0.9;
      z-index: 0;
    }

    .login-content {
      position: relative;
      z-index: 1;
      display: grid;
      gap: 12px;
    }

    label {
      font-size: 0.9rem;
      color: var(--muted);
    }

    input {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.04);
      color: var(--text);
      margin-top: 6px;
      outline: none;
    }

    input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(28, 230, 182, 0.15);
    }

    .supporting-copy {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 12px;
      margin-top: 10px;
      color: var(--muted);
      font-size: 0.95rem;
    }

    button, .ghost-btn {
      padding: 12px 16px;
      border-radius: 10px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.2s ease, filter 0.2s ease;
    }

    button.primary {
      background: linear-gradient(135deg, #1ce6b6, #42b8ff);
      color: #031017;
      box-shadow: 0 10px 30px rgba(28, 230, 182, 0.3);
    }

    button.primary:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
    }

    .ghost-btn {
      background: transparent;
      color: var(--text);
      border: 1px dashed var(--border);
    }

    .ghost-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .site-card {
      border-left: 4px solid var(--accent);
      padding-left: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }

    .site-meta {
      display: flex;
      gap: 8px;
      align-items: center;
      color: var(--muted);
      font-size: 0.9rem;
    }

    .status {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #3cf7c2;
      box-shadow: 0 0 8px #3cf7c2;
    }

    .actions {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }

    .action-btn {
      background: var(--panel-strong);
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      text-align: left;
      color: var(--text);
      cursor: pointer;
      transition: border 0.2s ease, transform 0.15s ease;
    }

    .action-btn:hover {
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .action-btn strong {
      display: block;
      margin-bottom: 6px;
    }

    .action-btn[data-locked="true"] {
      opacity: 0.55;
      cursor: not-allowed;
      border-style: dashed;
    }

    .terminal {
      background: #05060a;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 14px;
      height: 240px;
      overflow-y: auto;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", monospace;
      font-size: 0.95rem;
      box-shadow: var(--shadow);
    }

    .terminal .line {
      margin-bottom: 8px;
      color: #b2c6ff;
    }

    .terminal .meta {
      color: #6ea7ff;
    }

    .role-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
    }

    .role-card h4 {
      margin-bottom: 6px;
    }

    .mini {
      font-size: 0.9rem;
      color: var(--muted);
      line-height: 1.5;
    }

    .divider {
      height: 1px;
      background: var(--border);
      margin: 14px 0;
    }

    .subgrid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 12px;
    }

    .badge {
      background: rgba(66, 184, 255, 0.14);
      color: #8dd7ff;
      padding: 4px 8px;
      border-radius: 8px;
      font-weight: 700;
      font-size: 0.8rem;
      letter-spacing: 0.4px;
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      background: var(--panel-strong);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 6px;
      gap: 6px;
    }

    .toggle button {
      background: transparent;
      color: var(--muted);
      border-radius: 999px;
      padding: 8px 14px;
      border: 1px solid transparent;
    }

    .toggle button.active {
      background: linear-gradient(135deg, #1ce6b6, #42b8ff);
      color: #031017;
      border-color: transparent;
      box-shadow: 0 10px 30px rgba(28, 230, 182, 0.3);
    }

    .list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--panel-strong);
      border-radius: 10px;
      padding: 12px;
      border: 1px solid var(--border);
    }

    .chip {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      color: var(--text);
      border: 1px solid var(--border);
      font-size: 0.85rem;
    }

    .mini-strong {
      color: #d7e2ff;
      font-weight: 700;
    }

    .note {
      background: rgba(246, 192, 70, 0.08);
      border: 1px dashed rgba(246, 192, 70, 0.5);
      padding: 10px;
      border-radius: 10px;
      color: #f7e7b0;
      font-size: 0.9rem;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .callout {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      background: rgba(28, 230, 182, 0.06);
      color: #d4fff2;
    }

    .topline {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">NL</div>
      <div>
        <strong>Netlify Agent Runners</strong><br />
        <small style="color: var(--muted)">Guarded automation between people and the Netlify CLI.</small>
      </div>
    </div>
    <nav>
      <a href="#">Product Idea</a>
      <a href="#">Platform Docs</a>
      <a href="#">Security Notes</a>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-text panel">
      <div class="topline">
        <span class="badge">Concept</span>
        <span class="mini">Agent Runner Portal ‚Üí AI + CLI with governance</span>
      </div>
      <h1>Programmable workflow guards for Netlify CLI and AI Agent Runners.</h1>
      <p>
        Prototype portal where developers expose curated Netlify workflows and AI prompts while keeping production guardrails.
        Agent Runners mediate every CLI call, so clients trigger safe actions and teams ship faster with confidence.
      </p>
      <div class="pill-row">
        <div class="pill">ü§ñ AI mediates CLI access</div>
        <div class="pill">üõ°Ô∏è Role-based approvals</div>
        <div class="pill">üöÄ Safer deploy flows</div>
        <div class="pill">üì° Netlify Add-on concept</div>
      </div>
      <div class="supporting-copy">
        <div>Agent Runners act as a safe execution layer that proxies Netlify CLI. Clients never see tokens, flags, or raw shell.</div>
        <div>Developers configure allowed flows, mapping identities to Netlify sites, environments, and approval steps.</div>
        <div>Agencies unlock client self-service: curated AI prompts deliver content changes, deploys, and rollbacks on rails.</div>
      </div>
    </div>
    <div class="panel login">
      <div class="login-content">
        <div class="topline">
          <span class="badge">Login (concept)</span>
          <span class="mini">Authentication gates Netlify CLI + AI Agent access</span>
        </div>
        <div>
          <label for="email">Work email</label>
          <input type="email" id="email" placeholder="dev@agency.com" />
        </div>
        <div>
          <label for="password">Password</label>
          <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
        </div>
        <div class="hint">Federated SSO ties identity to the Agent Runner policy that determines which Netlify CLI operations are exposed.</div>
        <div style="display: flex; gap: 10px; align-items: center;">
          <button class="primary" id="simulate-login">Sign in & view dashboard</button>
          <button class="ghost-btn" id="simulate-logout">Logout</button>
        </div>
        <div class="note">Authentication gates access to Netlify CLI actions and AI Agent Runners. Policies travel with the session.</div>
      </div>
    </div>
  </section>

  <section class="grid" id="dashboard">
    <div class="panel">
      <div class="topline">
        <span class="badge">Connected Netlify Sites</span>
        <span class="mini">AI agents run approved Netlify CLI actions for each site</span>
      </div>
      <div class="site-card">
        <div>
          <strong>brand-site</strong>
          <div class="site-meta">
            <span class="chip">Environment: production</span>
            <span class="chip">Git connected</span>
          </div>
        </div>
        <div class="status"><span class="status-dot"></span>Healthy</div>
      </div>
      <div class="site-card" style="border-left-color: #42b8ff;">
        <div>
          <strong>feature-preview</strong>
          <div class="site-meta">
            <span class="chip">Environment: preview branch</span>
            <span class="chip">PR gated</span>
          </div>
        </div>
        <div class="status"><span class="status-dot" style="background: #42b8ff; box-shadow: 0 0 8px #42b8ff;"></span>Watching</div>
      </div>
      <div class="site-card" style="border-left-color: #f6c046;">
        <div>
          <strong>client-lp</strong>
          <div class="site-meta">
            <span class="chip">Environment: production</span>
            <span class="chip">Content-only</span>
          </div>
        </div>
        <div class="status" style="color: #f6c046;"><span class="status-dot" style="background: #f6c046; box-shadow: 0 0 8px #f6c046;"></span>Guarded</div>
      </div>
      <div class="divider"></div>
      <div class="callout">
        Clients see status + limited actions. Developers expand the allowlist by updating Agent Runner policies and CLI macros.
      </div>
    </div>

    <div class="panel">
      <div class="topline" style="justify-content: space-between;">
        <div>
          <span class="badge">AI Agent Runner Presets</span>
          <span class="mini">Buttons trigger prompts that mediate Netlify CLI commands</span>
        </div>
        <div class="toggle" aria-label="Role switcher">
          <button id="role-client" class="active" onclick="switchRole('client')">Client</button>
          <button id="role-developer" onclick="switchRole('developer')">Developer</button>
        </div>
      </div>
      <div class="actions">
        <button class="action-btn" data-action="deploy" onclick="runAgent('Deploy production via Agent Runner')">
          <strong>Ask AI Agent to deploy site</strong>
          <span class="mini">Agent validates branch, env vars, and approved flags before calling <code>netlify deploy --prod</code>.</span>
        </button>
        <button class="action-btn" data-action="status" onclick="runNetlifyCLI('status')">
          <strong>Run safe Netlify CLI check</strong>
          <span class="mini">Permissioned users request <code>netlify status</code> through the runner with audit logging.</span>
        </button>
        <button class="action-btn" data-action="explain" onclick="runAgent('Explain last deploy failure')">
          <strong>Explain last deploy failure</strong>
          <span class="mini">Agent summarizes build logs and suggests fixes without exposing raw credentials.</span>
        </button>
        <button class="action-btn" data-action="preview" onclick="runNetlifyCLI('open:preview')">
          <strong>Open preview URL</strong>
          <span class="mini">Client-safe shortcut that only returns approved preview links.</span>
        </button>
        <button class="action-btn" data-action="rollback" data-locked="true" onclick="runAgent('Rollback to last stable build')">
          <strong>Rollback to last stable deploy</strong>
          <span class="mini">Developer-only by default. Unlock for clients once approvals and time windows are configured.</span>
        </button>
        <button class="action-btn" data-action="content" onclick="runAgent('Update homepage headline with provided copy pack')">
          <strong>Update content / copy</strong>
          <span class="mini">Agent runs structured content updates and triggers <code>netlify deploy</code> only after diff review.</span>
        </button>
      </div>
      <div class="note" style="margin-top: 10px;">CLI commands are executed by AI Agent Runners in a sandbox ‚Äî not by users. Buttons are the only surface area clients see.</div>
    </div>

    <div class="panel">
      <div class="topline">
        <span class="badge">Netlify CLI Proxy</span>
        <span class="mini">Terminal output shown as Agent-approved operations</span>
      </div>
      <div class="terminal" id="terminal-log">
        <div class="line">$ Agent Runner ready ‚Äî all CLI commands are proxied and audited.</div>
        <div class="line"><span class="meta">[agent]</span> Waiting for safe action...</div>
      </div>
      <div class="hint" style="margin-top: 10px;">Commands run server-side through Agent Runners. Users never receive direct CLI tokens.</div>
    </div>

    <div class="panel">
      <div class="topline">
        <span class="badge">Role Controls & Permissions</span>
        <span class="mini">Client vs. Developer views are enforced at the runner layer</span>
      </div>
      <div class="subgrid">
        <div class="list-item">
          <div>
            <strong>Allowed CLI commands</strong>
            <div class="mini">Developers publish an allowlist. Clients only see curated macros.</div>
          </div>
          <div style="text-align: right;">
            <div class="chip">netlify status</div>
            <div class="chip">netlify deploy --prod</div>
            <div class="chip">netlify rollback</div>
          </div>
        </div>
        <div class="list-item">
          <div>
            <strong>Guarded AI prompts</strong>
            <div class="mini">Prompts bind to policies: env scope, flags, approval levels.</div>
          </div>
          <div class="chip">Signed + audited</div>
        </div>
        <div class="list-item">
          <div>
            <strong>Client sandbox</strong>
            <div class="mini">No raw shell, no secrets. Runners execute server-side with RBAC.</div>
          </div>
          <div class="chip" style="background: rgba(28, 230, 182, 0.15); color: #9cf1d8;">Safe surface</div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="role-grid">
        <div class="role-card">
          <h4>Client / Stakeholder</h4>
          <div class="mini">
            ‚Ä¢ Trigger approved deploys and status checks.<br />
            ‚Ä¢ See curated prompts only ‚Äî no shell access.<br />
            ‚Ä¢ Receive human-readable AI summaries instead of raw logs.
          </div>
        </div>
        <div class="role-card">
          <h4>Developer / Admin</h4>
          <div class="mini">
            ‚Ä¢ Define allowed Netlify CLI commands and flags.<br />
            ‚Ä¢ Decide which AI prompts appear as buttons.<br />
            ‚Ä¢ Map identities to Agent Runner policies and audit trails.
          </div>
        </div>
        <div class="role-card">
          <h4>Agent Runner Policy</h4>
          <div class="mini">
            ‚Ä¢ Acts as programmable guardrail between user intent and CLI.<br />
            ‚Ä¢ Enforces environment scoping (prod vs preview).<br />
            ‚Ä¢ Logs every invocation for compliance-ready traceability.
          </div>
        </div>
      </div>
      <div class="divider"></div>
      <div class="mini">This add-on vision extends Netlify beyond ‚Äúdeploy + host‚Äù into governed automation: AI agents orchestrate, Netlify enforces.</div>
    </div>

    <div class="panel">
      <div class="topline">
        <span class="badge">Developer Console</span>
        <span class="mini">Design workflows that clients can safely trigger</span>
      </div>
      <div class="subgrid">
        <div class="list-item">
          <div>
            <strong>Define allowed agent actions</strong>
            <div class="mini">Preset includes prompt + CLI macro + rollback rule.</div>
          </div>
          <button class="ghost-btn" onclick="appendLine('Dev added new preset: Lighthouse audit with budget policy');">+ New preset</button>
        </div>
        <div class="list-item">
          <div>
            <strong>Toggle CLI exposure</strong>
            <div class="mini">Expose <code>netlify deploy</code> to clients only after approvals configured.</div>
          </div>
          <div class="chip">Audited change</div>
        </div>
        <div class="list-item">
          <div>
            <strong>Access control</strong>
            <div class="mini">Link users to policies via SSO groups. Client view updates instantly.</div>
          </div>
          <div class="chip">SSO enforced</div>
        </div>
      </div>
      <div class="note" style="margin-top: 12px;">Guardrails reduce developer toil: pre-approved flows mean fewer ad-hoc deploy requests and safer client autonomy.</div>
    </div>

    <div class="panel">
      <div class="topline">
        <span class="badge">Workflow Timeline</span>
        <span class="mini">Recent Agent Runner executions with Netlify context</span>
      </div>
      <div class="terminal" style="height: 220px;">
        <div class="line">[09:15] client-lp ‚Üí AI updated hero copy ‚Üí <span class="meta">netlify deploy --prod</span> approved</div>
        <div class="line">[08:40] feature-preview ‚Üí status check ‚Üí <span class="meta">netlify status</span> ok</div>
        <div class="line">[07:55] brand-site ‚Üí rollback preset requested ‚Üí awaiting dev approval</div>
        <div class="line">[Yesterday] brand-site ‚Üí AI explained build failure; developer reopened PR</div>
      </div>
      <div class="hint" style="margin-top: 10px;">Every run is signed, associated with an identity, and scoped to a site + environment.</div>
    </div>
  </section>

  <footer>
    Concept portal ‚Äî imagine this inside <strong>Netlify Dashboard ‚Üí Add-Ons ‚Üí Agent Runners</strong>. Governed AI meets Netlify CLI.
  </footer>

  <script>
    const dashboard = document.getElementById('dashboard');
    const terminal = document.getElementById('terminal-log');
    const loginButton = document.getElementById('simulate-login');
    const logoutButton = document.getElementById('simulate-logout');
    const roleButtons = {
      client: document.getElementById('role-client'),
      developer: document.getElementById('role-developer'),
    };
    let currentRole = 'client';

    loginButton.addEventListener('click', () => {
      login();
      dashboard.scrollIntoView({ behavior: 'smooth' });
    });

    logoutButton.addEventListener('click', () => {
      logout();
    });

    function appendLine(text) {
      const line = document.createElement('div');
      line.className = 'line';
      line.textContent = text;
      terminal.appendChild(line);
      terminal.scrollTop = terminal.scrollHeight;
    }

    function login() {
      // In a real product, authentication would issue a session tied to runner policies.
      appendLine('‚úî Authenticated: policy applied for developer role. Ready for safe actions.');
      currentRole = 'developer';
      switchRole('developer');
    }

    function logout() {
      // Placeholder: logout would revoke tokens and clear policy grants.
      appendLine('üëã Session ended. CLI and Agent Runner actions locked.');
      currentRole = 'client';
      switchRole('client');
    }

    function switchRole(role) {
      currentRole = role;
      Object.keys(roleButtons).forEach((key) => {
        roleButtons[key].classList.toggle('active', key === role);
      });

      const lockedActions = document.querySelectorAll('[data-locked="true"]');
      lockedActions.forEach((btn) => {
        btn.disabled = role === 'client';
        btn.setAttribute('aria-disabled', role === 'client');
      });

      appendLine(role === 'client'
        ? 'üîí Client view: only curated presets exposed. CLI stays server-side.'
        : 'üõ† Developer view: define prompts, approve rollbacks, expose new CLI macros.');
    }

    function runAgent(prompt) {
      const target = event?.currentTarget;
      if (target?.dataset.locked === 'true' && currentRole === 'client') {
        appendLine('‚ö†Ô∏è Permission denied: clients cannot trigger this preset without developer approval.');
        return;
      }

      // Placeholder: here an Agent Runner would validate intent + policy, then call Netlify CLI server-side.
      appendLine(`ü§ñ Agent Runner: ${prompt}`);
      appendLine('   ‚Üí Validating policy, branch, and environment...');
      appendLine('   ‚Üí Executing curated Netlify CLI flow on behalf of user.');
    }

    function runNetlifyCLI(action) {
      // Placeholder: backend service proxies the Netlify CLI; never exposed to the browser.
      const map = {
        status: 'netlify status',
        'open:preview': 'netlify open --url preview',
      };
      appendLine(`$ ${map[action] || 'netlify deploy --prod'}`);
      appendLine('   [agent] Command approved, executed within runner sandbox.');
    }

    // Initialize the interface to reflect client-safe defaults.
    switchRole('client');
  </script>
</body>
</html>
